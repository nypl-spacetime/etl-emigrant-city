# NYC Space/Time Directory ETL module: Emigrant City

[ETL](https://en.wikipedia.org/wiki/Extract,_transform,_load) module for NYPL’s [NYC Space/Time Direcory](http://spacetime.nypl.org/). This Node.js module downloads, parses, and/or transforms Emigrant City data, and creates a NYC Space/Time Directory dataset.


## Data

The dataset created by this ETL module’s `transform` step can be found in the [data section of the NYC Space/Time Directory website](http://spacetime.nypl.org/#data-emigrant-city).

## Details

<table>
<tbody>

<tr>
<td>ID</td>
<td><code>emigrant-city</code></td>
</tr>

<tr>
<td>Title</td>
<td>Emigrant City</td>
</tr>

<tr>
<td>Description</td>
<td>Crowdsourced transcription of documents from the Emigrant Bank</td>
</tr>

<tr>
<td>License</td>
<td>CC0</td>
</tr>

<tr>
<td>Contributors</td>
<td><ul><li>Bert Spaan (wrangler)</li><li>Emigrant City contributors (author)</li></ul></td>
</tr>

<tr>
<td>Sources</td>
<td><a href="http://emigrantcity.nypl.org/data/latest">Compressed archive of all transcribed documents</a></td>
</tr>

<tr>
<td>Homepage</td>
<td><a href="http://emigrantcity.nypl.org">http://emigrantcity.nypl.org</a></td>
</tr>

<tr>
<td>Depends on</td>
<td><code><a href="https://github.com/nypl-spacetime/etl-nyc-streets">nyc-streets</a>.transform</code>, <code><a href="https://github.com/nypl-spacetime/etl-addresses">addresses</a>.transform</code></td>
</tr>
</tbody>
</table>

[JSON Schema](http://json-schema.org/) of Object data:

```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "images",
    "uuids"
  ],
  "properties": {
    "images": {
      "type": "object",
      "required": [
        "standard",
        "thumbnail"
      ],
      "properties": {
        "standard": {
          "type": "string",
          "description": "URL of scanned document"
        },
        "thumbnail": {
          "type": "string",
          "description": "URL of thumbnail of scanned document"
        }
      }
    },
    "uuids": {
      "type": "object",
      "required": [
        "capture",
        "page",
        "book"
      ],
      "properties": {
        "capture": {
          "type": "string",
          "description": "UUID of capture"
        },
        "page": {
          "type": "string",
          "description": "UUID of page"
        },
        "book": {
          "type": "string",
          "description": "UUID of book"
        }
      }
    },
    "mortgager": {
      "type": "string",
      "description": "Name of mortgager"
    },
    "address": {
      "type": "string",
      "description": "Address of building"
    },
    "date": {
      "type": "string",
      "description": "Date when mortgage was issued"
    },
    "dimensions": {
      "type": "object",
      "properties": {
        "land": {
          "type": "array",
          "items": {
            "type": "number"
          },
          "description": "Dimensions of lot, in feet"
        },
        "building": {
          "type": "array",
          "items": {
            "type": "number"
          },
          "description": "Dimensions of building, in feet"
        }
      }
    },
    "amountLoaned": {
      "type": "integer",
      "description": "Amount loaned, in US dollar"
    },
    "properties": {
      "type": "object",
      "properties": {
        "stories": {
          "type": "integer",
          "description": "Amount of stories"
        },
        "material": {
          "type": "string",
          "description": "Material of building"
        }
      }
    },
    "recordNumber": {
      "type": "integer",
      "description": "Record number"
    },
    "additionalInfo": {
      "type": "string",
      "description": "Optional additional info"
    },
    "addressId": {
      "type": "string",
      "description": "ID of geocoded address"
    }
  }
}
```

## Available steps

  - `download`
  - `geocode`
  - `transform`

## Usage

```
git clone https://github.com/nypl-spacetime/etl-emigrant-city.git /path/to/etl-modules
cd /path/to/etl-modules/etl-emigrant-city
npm install

spacetime-etl emigrant-city[.<step>]
```

See http://github.com/nypl-spacetime/spacetime-etl for information about Space/Time's ETL tool. More Space/Time ETL modules [can be found on GitHub](https://github.com/search?utf8=%E2%9C%93&q=org%3Anypl-spacetime+etl-&type=Repositories&ref=advsearch&l=&l=).

_This README file is generated by [generate-etl-readme](https://github.com/nypl-spacetime/generate-etl-readme)._
